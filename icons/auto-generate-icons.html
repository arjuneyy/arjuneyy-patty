<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auto Generate PWA Icons</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 900px;
            margin: 50px auto;
            padding: 20px;
            text-align: center;
        }
        .status {
            background: #f0f0f0;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .generated {
            color: green;
            font-weight: bold;
        }
        button {
            background: #E8D5C4;
            color: #333;
            border: none;
            padding: 15px 30px;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px;
        }
        button:hover {
            background: #D4A5A5;
        }
        .preview {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .preview-item {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
        }
        .preview-item img {
            width: 100%;
            border-radius: 4px;
        }
        .download-btn {
            background: #4CAF50;
            color: white;
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 10px;
            font-size: 14px;
        }
        .download-all {
            background: #2196F3;
            color: white;
        }
    </style>
</head>
<body>
    <h1>PWA Icon Generator</h1>
    <p>Click the button below to generate all required icons for your wedding PWA</p>

    <button onclick="generateAllIcons()" class="download-all">Generate All Icons</button>

    <div id="status" class="status">
        Ready to generate icons...
    </div>

    <div id="preview" class="preview"></div>

    <script>
        const sizes = [72, 96, 128, 144, 152, 192, 384, 512];
        let generatedIcons = [];

        function generateAllIcons() {
            const preview = document.getElementById('preview');
            const status = document.getElementById('status');
            preview.innerHTML = '';
            generatedIcons = [];

            status.innerHTML = 'Generating icons...';

            sizes.forEach((size, index) => {
                setTimeout(() => {
                    const canvas = document.createElement('canvas');
                    canvas.width = size;
                    canvas.height = size;
                    const ctx = canvas.getContext('2d');

                    // Background gradient
                    const gradient = ctx.createLinearGradient(0, 0, size, size);
                    gradient.addColorStop(0, '#E8D5C4');
                    gradient.addColorStop(1, '#D4A5A5');
                    ctx.fillStyle = gradient;
                    ctx.fillRect(0, 0, size, size);

                    // Draw initials with shadow for depth
                    ctx.shadowColor = 'rgba(0, 0, 0, 0.2)';
                    ctx.shadowBlur = size * 0.02;
                    ctx.shadowOffsetX = size * 0.01;
                    ctx.shadowOffsetY = size * 0.01;

                    ctx.fillStyle = '#ffffff';
                    ctx.font = `bold ${size * 0.35}px Georgia, serif`;
                    ctx.textAlign = 'center';
                    ctx.textBaseline = 'middle';
                    ctx.fillText('A & P', size / 2, size / 2);

                    // Draw heart symbol
                    ctx.shadowBlur = 0;
                    ctx.font = `${size * 0.12}px Arial`;
                    ctx.fillText('♥', size / 2, size * 0.75);

                    const dataUrl = canvas.toDataURL('image/png');
                    generatedIcons.push({ size, dataUrl });

                    // Add to preview
                    addToPreview(size, dataUrl);

                    if (index === sizes.length - 1) {
                        status.innerHTML = '<span class="generated">✓ All icons generated! Click download buttons below to save each icon.</span>';
                    }
                }, index * 100);
            });
        }

        function addToPreview(size, dataUrl) {
            const preview = document.getElementById('preview');
            const item = document.createElement('div');
            item.className = 'preview-item';

            const img = document.createElement('img');
            img.src = dataUrl;
            img.alt = `${size}x${size} icon`;

            const label = document.createElement('p');
            label.textContent = `${size}x${size}px`;
            label.style.margin = '10px 0 5px 0';
            label.style.fontWeight = 'bold';

            const downloadBtn = document.createElement('button');
            downloadBtn.className = 'download-btn';
            downloadBtn.textContent = 'Download';
            downloadBtn.onclick = () => downloadIcon(dataUrl, `icon-${size}x${size}.png`);

            item.appendChild(img);
            item.appendChild(label);
            item.appendChild(downloadBtn);
            preview.appendChild(item);
        }

        function downloadIcon(dataUrl, filename) {
            const link = document.createElement('a');
            link.href = dataUrl;
            link.download = filename;
            link.click();
        }
    </script>

    <div style="margin-top: 40px; padding: 20px; background: #fff3cd; border-radius: 8px; text-align: left;">
        <h3>Instructions:</h3>
        <ol>
            <li>Click "Generate All Icons" above</li>
            <li>Click the "Download" button under each icon</li>
            <li>Save all downloaded icons to the <code>/icons</code> folder in your project</li>
            <li>Make sure the filenames match: <code>icon-72x72.png</code>, <code>icon-96x96.png</code>, etc.</li>
            <li>Refresh your website and check the Application tab again</li>
        </ol>
        <p><strong>Note:</strong> You can also upload your own 512x512 image by editing the generate-icons.html file.</p>
    </div>
</body>
</html>
